# Android Studio USB安装指南

## 前提条件
1. 已安装Android Studio
2. 已安装Android SDK
3. 已配置ADB环境变量

## 步骤一：手机设置

### 开启开发者选项
1. 打开手机**设置**
2. 找到**关于手机**
3. 连续点击**版本号**7次，直到提示"您现在是开发者"

### 开启USB调试
1. 返回设置主界面
2. 进入**系统** > **开发者选项**
3. 开启**USB调试**
4. 开启**USB安装**（部分手机需要）

## 步骤二：连接手机

1. 使用USB线连接手机和电脑
2. 手机会弹出"允许USB调试"提示，选择**允许**
3. 选择**文件传输**模式

## 步骤三：验证连接

打开命令提示符，执行：
```bash
adb devices
```

应该能看到已连接的设备列表。

## 步骤四：安装应用

### 方法一：使用安装脚本（推荐）
双击运行项目根目录的 `install_to_phone.bat`

### 方法二：Android Studio
1. 打开Android Studio
2. 点击**运行**按钮（绿色三角形）
3. 选择已连接的设备
4. 等待安装完成

### 方法三：命令行
在项目根目录执行：
```bash
gradlew installDebug
```

## 常见问题解决

### 问题1：ADB未找到
**解决方案**：
1. 打开Android Studio
2. 进入**File** > **Project Structure** > **SDK Location**
3. 复制Android SDK路径
4. 将`platform-tools`目录添加到系统环境变量PATH中

### 问题2：设备未授权
**解决方案**：
1. 断开USB连接
2. 重新连接
3. 手机弹出授权提示时选择"始终允许"

### 问题3：安装失败
**解决方案**：
1. 检查手机存储空间
2. 检查是否已安装同名应用，先卸载旧版本
3. 重启手机和电脑

### 问题4：驱动问题
**解决方案**：
1. 打开设备管理器
2. 找到手机设备
3. 右键更新驱动程序
4. 选择自动搜索驱动

## 验证安装

安装完成后：
1. 在手机应用列表中找到"Classic Tetris"
2. 点击打开应用
3. 测试游戏功能是否正常

## 开发调试

### 实时调试
1. 在Android Studio中设置断点
2. 点击**调试**按钮（虫子图标）
3. 选择设备进行调试

### 日志查看
```bash
adb logcat | findstr ClassicTetris
```

## 注意事项
- 首次安装可能需要较长时间
- 确保手机电量充足
- 安装过程中不要断开USB连接
- 部分手机品牌可能需要额外设置（如小米的"USB安装"权限）